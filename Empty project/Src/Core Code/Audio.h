/*-----------------------------------------+      
|   @@@@@@@@@        @@@@@    @@@@@  @@@@@ |      
|   @@@@@@@@@@     @@@@@@@@   @@@@@  @@@@@ |      
|    @@     @@    @@@    @@@   @@    @@@   |      
|    @@     @@   @@@      @@   @@  @@@     |      
|    @@    @@    @@       @@   @@ @@@      |      
|    @@@@@@@    @@        @@   @@@@@@      |      
|   @@@@@@@@@   @@        @@  @@@@@@@@     |      
|   @@     @@@  @@       @@   @@@  @@@     |      
|   @@      @@  @@      @@@   @@    @@@    |      
|   @@      @@  @@@    @@@    @@     @@    |      
| @@@@@@@@@@@    @@@@@@@@   @@@@@@   @@@@  |      
| @@@@@@@@@@      @@@@@     @@@@@@    @@@  |      
+-----------------------------------------*/

#ifndef AUDIO_H
#define AUDIO_H

#include <vector>
#include <string>
#include "../Audio/GameAudio.h"

using namespace std;

class Audio
{
public:
	Audio();
	virtual ~Audio();

	inline CGameAudio* GetGameAudio() const
	{
		return m_pAudio;
	}

	/************************************************************************/
	/* 刷新音乐                                                                     */
	/************************************************************************/
	void RefreshMusic();
	
	/************************************************************************/
	/* 加载音效资源                                                                     */
	/************************************************************************/
	inline void AddSoundRes( string filename, int iimpulse )
	{
		m_vctSoundRes.push_back( filename );
		m_vctSoundImpulse.push_back( iimpulse );
	}

	/************************************************************************/
	/* 加载音乐资源                                                                     */
	/************************************************************************/
	inline void AddMusicRes( string filename )
	{
		m_vctMusicRes.push_back( filename );
	}

	/************************************************************************/
	/* 初始化                                                                     */
	/************************************************************************/
	bool InitAudio();
	/************************************************************************/
	/* create                                                                      */
	/************************************************************************/
	bool CreateAudio();
	/************************************************************************/
	/* 释放资源                                                                     */
	/************************************************************************/
	void ShutAudio();
	/************************************************************************/
	/* play music                                                                     */
	/************************************************************************/
	void PlayMusic( const int iid );
	/************************************************************************/
	/* stop music
		在切换音乐之前都要掉用次
	*/
	/************************************************************************/
	void StopMusic();

	/************************************************************************/
	/* 	@brief 设置音乐音量
	* 	@param iLevel 音量，小 0-100 大                                                                     */
	/************************************************************************/
	void SetMusicVolume( int iLevel );

	/************************************************************************/
	/* play sound                                                                     */
	/************************************************************************/
	void PlayGameSound( const int iID );
	/************************************************************************/
	/* 
	设置音效左右平衡
	音效平衡，左(-10000)--(10000)右
	*/
	/************************************************************************/
	void SetSoundPan( int iID, int iPan );

	/************************************************************************/
	/*
	@brief 设置音效音量
	* 	@param iID 音效ID
	* 	@param iLevel 音效，小 0-100 大                                                                     
	*/
	/************************************************************************/
	void SetSoundVolume( int iID, int iLevel );

	/************************************************************************/
	/* 关闭音效                                                                     */
	/************************************************************************/
	void StopSound( int iID );

	void SoundOn();

	void SoundOff();

private:
	bool m_bSoundOn;
	CGameAudio* m_pAudio;

	//音效资源路径
	vector<string> m_vctSoundRes;
	//音乐资源路径
	vector<string> m_vctMusicRes;
	//音效频率
	vector<int> m_vctSoundImpulse;
};
#endif